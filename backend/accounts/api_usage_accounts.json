{
  "accounts_api_endpoints": [
    {
      "name": "User Login",
      "method": "POST",
      "url": "/api/auth/login/",
      "body": {
        "email": "admin@example.com",
        "password": "adminpassword"
      },
      "response": {
        "user": {
          "token": "a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0",
          "role": "admin",
          "email": "admin@example.com"
        },
        "message": "Login successful"
      }
    },
    {
      "name": "Voter Login",
      "method": "POST",
      "url": "/api/auth/voter_login/",
      "body": {
        "voter_id": "VOTER123",
        "password": "otp123"
      },
      "response": {
        "voter": {
          "token": "f1e2d3c4b5a697887766554433221100ffeeddcc",
          "voter_id": "VOTER123",
          "level": "200",
          "gender": "male"
        },
        "message": "Login successful"
      }
    },
    {
      "name": "User Logout",
      "method": "POST",
      "url": "/api/auth/logout/",
      "headers": {
        "Authorization": "<user_token>"
      },
      "response": {
        "message": "Logout successful"
      }
    },
    {
      "name": "Voter Logout",
      "method": "POST",
      "url": "/api/auth/voter_logout/",
      "headers": {
        "Authorization": "<voter_token>"
      },
      "response": {
        "message": "Logout successful"
      }
    },
    {
      "name": "Get Current User/Voter",
      "method": "GET",
      "url": "/api/auth/me/",
      "headers": {
        "Authorization": "<user_token or voter_token>"
      },
      "response": {
        "user": {
          "id": 1,
          "email": "admin@example.com",
          "role": "admin",
          "election": 2,
          "created_at": "2025-08-27T10:00:00Z",
          "updated_at": "2025-08-27T10:00:00Z",
          "token": "a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0"
        }
      }
    },
    {
      "name": "Generate OTP for Voter",
      "method": "POST",
      "url": "/api/auth/generate-otp/VOTER123/",
      "headers": {
        "Authorization": "<polling_agent_token>"
      },
      "body": {
        "voter_id": "VOTER123"
      },
      "response": {
        "otp": "abc123",
        "voter_id": "VOTER123"
      }
    },
    {
      "name": "User CRUD",
      "method": "RESTful",
      "endpoints": [
        {
          "action": "List Users",
          "method": "GET",
          "url": "/api/users/",
          "headers": {
            "Authorization": "<user_token>"
          },
          "response": [
            {
              "id": 1,
              "email": "admin@example.com",
              "role": "admin",
              "election": 2,
              "created_at": "2025-08-27T10:00:00Z",
              "updated_at": "2025-08-27T10:00:00Z",
              "token": null
            },
            {
              "id": 2,
              "email": "pollingagent@example.com",
              "role": "polling_agent",
              "election": 2,
              "created_at": "2025-08-27T10:05:00Z",
              "updated_at": "2025-08-27T10:05:00Z",
              "token": null
            }
          ]
        },
        {
          "action": "Create User",
          "method": "POST",
          "url": "/api/users/",
          "headers": {
            "Authorization": "<superadmin_token or admin_token>"
          },
          "body": {
            "email": "pollingagent@example.com",
            "role": "polling_agent",
            "password": "agentpassword",
            "election": 2
          },
          "response": {
            "id": 2,
            "email": "pollingagent@example.com",
            "role": "polling_agent",
            "election": 2,
            "created_at": "2025-08-27T10:05:00Z",
            "updated_at": "2025-08-27T10:05:00Z",
            "token": null
          }
        },
        {
          "action": "Retrieve User",
          "method": "GET",
          "url": "/api/users/2/",
          "headers": {
            "Authorization": "<user_token>"
          },
          "response": {
            "id": 2,
            "email": "pollingagent@example.com",
            "role": "polling_agent",
            "election": 2,
            "created_at": "2025-08-27T10:05:00Z",
            "updated_at": "2025-08-27T10:05:00Z",
            "token": null
          }
        },
        {
          "action": "Update User",
          "method": "PUT",
          "url": "/api/users/2/",
          "headers": {
            "Authorization": "<superadmin_token or admin_token>"
          },
          "body": {
            "email": "pollingagent_new@example.com"
          },
          "response": {
            "id": 2,
            "email": "pollingagent_new@example.com",
            "role": "polling_agent",
            "election": 2,
            "created_at": "2025-08-27T10:05:00Z",
            "updated_at": "2025-08-27T11:00:00Z",
            "token": null
          }
        },
        {
          "action": "Delete User",
          "method": "DELETE",
          "url": "/api/users/2/",
          "headers": {
            "Authorization": "<superadmin_token>"
          },
          "response": {
            "message": "User deleted successfully"
          }
        }
      ]
    },
    {
      "name": "Voter CRUD",
      "method": "RESTful",
      "endpoints": [
        {
          "action": "List Voters",
          "method": "GET",
          "url": "/api/voters/",
          "headers": {
            "Authorization": "<admin_token or superadmin_token>"
          },
          "response": [
            {
              "voter_id": "VOTER123",
              "level": "200",
              "gender": "male",
              "department": "Computer Science",
              "election": 2,
              "has_voted": false,
              "created_at": "2025-08-27T10:10:00Z",
              "updated_at": "2025-08-27T10:10:00Z",
              "token": null
            }
          ]
        },
        {
          "action": "Create Voter",
          "method": "POST",
          "url": "/api/voters/",
          "headers": {
            "Authorization": "<admin_token or superadmin_token>"
          },
          "body": {
            "voter_id": "VOTER456",
            "level": "300",
            "gender": "female",
            "department": "Mathematics",
            "election": 2
          },
          "response": {
            "voter_id": "VOTER456",
            "level": "300",
            "gender": "female",
            "department": "Mathematics",
            "election": 2,
            "has_voted": false,
            "created_at": "2025-08-27T10:15:00Z",
            "updated_at": "2025-08-27T10:15:00Z",
            "token": null
          }
        },
        {
          "action": "Retrieve Voter",
          "method": "GET",
          "url": "/api/voters/VOTER456/",
          "headers": {
            "Authorization": "<admin_token or superadmin_token>"
          },
          "response": {
            "voter_id": "VOTER456",
            "level": "300",
            "gender": "female",
            "department": "Mathematics",
            "election": 2,
            "has_voted": false,
            "created_at": "2025-08-27T10:15:00Z",
            "updated_at": "2025-08-27T10:15:00Z",
            "token": null
          }
        }
      ]
    },
    {
      "name": "Upload Voters (Excel)",
      "method": "POST",
      "url": "/api/voters/upload-voters/",
      "headers": {
        "Authorization": "<admin_token>"
      },
      "body": {
        "file": "<excel_file>"
      },
      "response": {
        "message": "Voters uploaded successfully",
        "uploaded_voters": [
          {
            "voter_id": "VOTER789",
            "level": "400",
            "gender": "non-binary",
            "department": "Physics",
            "election": 2,
            "has_voted": false,
            "created_at": "2025-08-27T10:20:00Z",
            "updated_at": "2025-08-27T10:20:00Z",
            "token": null
          }
        ]
      }
    }
  ]
}